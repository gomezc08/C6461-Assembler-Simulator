                         LOC    6                		; BEGIN AT LOCATION 6
000006     000000        Data   0                		; Placeholder for numbers, first in sequence
000007     000000        Data   0                		; Target number input by user
000010     000000        Data   0                		; Closest number to the target
000011     177777        Data   65535            		; Initial large difference value
000012     006024        LDA    0,0,20           		; R0 = 20 (count of numbers)
000013     006406        LDA    1,0,DATA_NUMS    		; Load start address of DATA_NUMS into R1
000014     147000        IN     2,0              		; Input character from keyboard
000015     005001        STR    2,0,1            		; Store character in memory at R1
000016     014401        AIR    1,1              		; Increment memory address for next number
000017     016001        SIR    0,1              		; Decrement count in R0
000020 null 		; Loop until all numbers are read
000020     006024        LDA    0,0,20           		; Reload count in R0
000021     006406        LDA    1,0,DATA_NUMS    		; Reset memory address in R1
000022     003001        LDR    2,0,1            		; Load number from memory into R2
000023     151001        OUT    2,1              		; Output number to console
000024     014401        AIR    1,1              		; Move to next address
000025     016001        SIR    0,1              		; Decrement count
000026 null 		; Continue if not done
000026     147400        IN     3,0              		; Read target number
000027     005406        STR    3,0,TARGET_NUM   		; Store target number in TARGET_NUM
000030     006024        LDA    0,0,20           		; Reload count in R0
000031     006406        LDA    1,0,DATA_NUMS    		; Reset start address in R1
000032     003001        LDR    2,0,1            		; Load number for comparison
000033     036003        SIR    4,3              		; Calculate abs difference: |R2 - R3|
000034     032000        AIR    4,0              		; Convert to absolute if needed
000035     106036        JGE    4,0,SKIP_UPDATE  		; If R4 >= CLOSEST_DIF, skip update
000036     005006        STR    2,0,CLOSEST_NUM  		; Update closest number
000037     012006        STR    4,0,CLOSEST_DIF  		; Update smallest difference
000040     014401        AIR    1,1              		; Move to next memory location
000041     016001        SIR    0,1              		; Decrement count
000042 null 		; Continue if not done
000042     003006        LDR    2,0,TARGET_NUM   		; Load target number into R2
000043     151001        OUT    2,1              		; Print target number
000044     003006        LDR    2,0,CLOSEST_NUM  		; Load closest number into R2
000045     151001        OUT    2,1              		; Print closest number
                         LOC    1024                  
002000     000000 End:   HLT                      		; STOP        
